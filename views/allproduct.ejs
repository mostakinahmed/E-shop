<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <link rel="stylesheet" href="../public/stylesheets/style.css" />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css"
    />
    <title>All Product</title>
    <script src="https://cdn.tailwindcss.com"></script>
  </head>
  <body class="bg-gray-100 min-h-screen flex flex-col md:flex-row">
    <!-- Sidebar -->
    <aside
      id="sidebar"
      class="fixed md:relative top-0 left-0 h-full md:h-screen z-40 w-56 sm:w-64 bg-white shadow-lg transform md:translate-x-0 -translate-x-full transition-transform duration-200 ease-in-out md:flex flex-col pb-5"
    >
      <div class="p-6 border-b border-gray-200">
        <h1 class="text-lg sm:text-2xl font-bold text-indigo-600">
          üõçÔ∏è OneMart
        </h1>
      </div>
      <nav class="flex flex-col p-4 space-y-3 flex-grow">
        <a
          href="/admin"
          class="flex items-center gap-2 py-2 px-4 rounded-lg hover:bg-indigo-100 hover:text-indigo-700 font-semibold text-gray-700"
        >
          <svg
            class="w-5 h-5 text-indigo-600"
            fill="none"
            stroke="currentColor"
            stroke-width="2"
            viewBox="0 0 24 24"
          >
            <path
              stroke-linecap="round"
              stroke-linejoin="round"
              d="M3 12l2-2m0 0l7-7 7 7m-7-7v18"
            />
          </svg>
          Dashboard
        </a>
        <a
          href="/product"
          class="py-2 px-4 flex items-center rounded-lg hover:bg-indigo-100 hover:text-indigo-700 font-medium text-gray-700 bg-indigo-50"
        >
          <svg
            xmlns="http://www.w3.org/2000/svg"
            fill="none"
            viewBox="0 0 24 24"
            stroke-width="1.5"
            stroke="currentColor"
            class="w-5 h-4 text-indigo-600 mr-2"
          >
            <path
              stroke-linecap="round"
              stroke-linejoin="round"
              d="M20.25 7.5l-.625 10.632a2.25 2.25 0 01-2.247 2.118H6.622a2.25 2.25 0 01-2.247-2.118L3.75 7.5M10 11.25h4M3.375 7.5h17.25c.621 0 1.125-.504 1.125-1.125v-1.5c0-.621-.504-1.125-1.125-1.125H3.375C2.754 4.75 2.25 5.254 2.25 5.875v1.5c0 .621.504 1.125 1.125 1.125z"
            />
          </svg>
          Products
        </a>
        <a
          href="#"
          class="py-2 px-4 flex items-center rounded-lg hover:bg-indigo-100 hover:text-indigo-700 font-medium text-gray-700"
        >
          <i class="fas fa-tags text-indigo-600 w-5 mr-2"></i> Category
        </a>
        <a
          href="/order"
          class="py-2 px-4 flex items-center rounded-lg hover:bg-indigo-100 hover:text-indigo-700 font-medium text-gray-700"
        >
          <i class="fas fa-shopping-cart text-indigo-600 w-5 mr-2"></i> Orders
        </a>
        <a
          href="#"
          class="py-2 px-4 flex items-center rounded-lg hover:bg-indigo-100 hover:text-indigo-700 font-medium text-gray-700"
        >
          <i class="fas fa-chart-line text-indigo-600 w-5 mr-2"></i> Sales
        </a>
        <a
          href="#"
          class="py-2 px-4 flex items-center rounded-lg hover:bg-indigo-100 hover:text-indigo-700 font-medium text-gray-700"
        >
          <i class="fas fa-users text-indigo-600 w-5 mr-2"></i> Customers
        </a>
        <a
          href="#"
          class="py-2 px-4 flex items-center rounded-lg hover:bg-indigo-100 hover:text-indigo-700 font-medium text-gray-700"
        >
          <i class="fas fa-user-shield text-indigo-600 w-5 mr-2"></i> Admin Zone
        </a>
      </nav>
      <a
        href="#"
        class="mt-auto py-2 mb-3 px-4 mx-4 rounded-lg hover:bg-red-100 hover:text-red-700 font-medium text-red-600 text-center"
      >
        Logout
      </a>
    </aside>

    <!-- Main Content -->
    <main class="flex-grow md:p-8 md:pt-8">
      <!-- Navbar / Search -->
      <nav
        class="bg-white shadow-md px-4 py-4 rounded-md flex flex-col md:flex-row items-center justify-between space-y-4 md:space-y-0"
      >
        <div class="text-xl font-bold text-indigo-600">All Products</div>
        <div
          class="flex flex-col md:flex-row items-center space-y-3 md:space-y-0 md:space-x-6 w-full md:w-auto"
        >
          <!-- Category Search -->
          <div class="flex items-center space-x-2 w-full md:w-auto">
            <label for="category" class="text-sm font-semibold text-gray-700"
              >Category:</label
            >
            <select
              id="category"
              name="category"
              class="border border-gray-300 rounded-md px-3 py-2 w-full md:w-48 focus:outline-none focus:ring-2 focus:ring-indigo-500"
            >
              <option value="">Select</option>
              <option value="electronics">Electronics</option>
              <option value="clothing">Clothing</option>
              <option value="books">Books</option>
            </select>
          </div>
          <!-- Product ID Search -->
          <div class="flex items-center space-x-2 w-full md:w-auto">
            <label for="productId" class="text-sm font-semibold text-gray-700"
              >Product ID:</label
            >
            <input
              type="text"
              id="productId"
              name="productId"
              placeholder="Enter ID"
              class="border border-gray-300 rounded-md px-3 py-2 w-full md:w-48 focus:outline-none focus:ring-2 focus:ring-indigo-500"
            />
          </div>
          <!-- Search Button -->
          <button
            class="bg-indigo-600 text-white px-4 py-2 rounded-md hover:bg-indigo-700 transition duration-200"
          >
            Search
          </button>
        </div>
      </nav>

      <!-- Table -->
      <section class="mt-6 pb-3">
        <div class="overflow-x-auto bg-white rounded-lg shadow">
          <table class="min-w-full table-auto">
            <thead class="bg-indigo-600 text-white">
              <tr>
                <th class="px-6 py-3 text-left text-sm font-semibold">
                  Product ID
                </th>
                <th class="px-6 py-3 text-left text-sm font-semibold">Image</th>
                <th class="px-6 py-3 text-left text-sm font-semibold">Name</th>
                <th class="px-6 py-3 text-left text-sm font-semibold">
                  Category
                </th>
                <th class="px-6 py-3 text-left text-sm font-semibold">Price</th>
                <th class="px-6 py-3 text-left text-sm font-semibold">Stock</th>
                <th class="px-6 py-3 text-left text-sm font-semibold">
                  Actions
                </th>
              </tr>
            </thead>
            <tbody>
              <% products.forEach(function(val) { %>
              <tr class="border-b hover:bg-indigo-50 cursor-pointer">
                <td class="px-6 py-2"><%= val.productId %></td>
                <td class="px-6 py-2">
                  <img
                    src="<%= val.imageUrl %>"
                    alt="<%= val.productName %>"
                    class="w-8 h-8 rounded"
                  />
                </td>
                <td class="px-6 py-2"><%= val.productName %></td>
                <td class="px-6 py-2"><%= val.category %></td>
                <td class="px-6 py-2 font-semibold">$<%= val.price %></td>
                <td class="px-6 py-2"><%= val.stock %></td>
                <td class="px-6 py-2">
                  <button class="text-indigo-600 hover:underline">Edit</button>
                  <button class="text-red-600 pl-2 hover:underline">
                    Delete
                  </button>
                </td>
              </tr>
              <% }); %>
            </tbody>
          </table>
        </div>

        <!-- Pagination -->
        <div
          class="fixed bottom-0 left-0 w-full px-4 py-3 flex justify-center items-center space-x-2 z-50"
        >
          <% if (currentPage > 1) { %>
          <a
            href="/allproduct?page=<%= currentPage - 1 %>&limit=<%= limit %>"
            class="px-3 py-1 bg-gray-200 hover:bg-gray-300 rounded text-sm"
            >Prev</a
          >
          <% } %> <% for (let i = 1; i <= totalPages; i++) { %>
          <a
            href="/allproduct?page=<%= i %>&limit=<%= limit %>"
            class="px-3 py-1 rounded text-sm <%= i === currentPage ? 'bg-blue-600 text-white' : 'bg-gray-200 hover:bg-gray-300' %>"
          >
            <%= i %>
          </a>
          <% } %> <% if (currentPage < totalPages) { %>
          <a
            href="/allproduct?page=<%= currentPage + 1 %>&limit=<%= limit %>"
            class="px-3 py-1 bg-gray-200 hover:bg-gray-300 rounded text-sm"
            >Next</a
          >
          <% } %>
        </div>
      </section>
    </main>
  </body>
</html>
